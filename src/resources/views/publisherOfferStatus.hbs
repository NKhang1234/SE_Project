<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Publisher Offer</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />

    <script>
      function toggleFilterInput() { const filterType =
      document.getElementById("filterType").value; const filterContentContainer
      = document.getElementById("filterContentContainer"); if (filterType ===
      "status") { filterContentContainer.innerHTML = ` <select
      id="filterContent" class="px-4 py-2 border border-gray-300 rounded-md
      focus:outline-none focus:ring-2 focus:ring-blue-400 w-full" > <option
      value="APPROVED">Duyệt</option> <option value="DENIED">Không
      duyệt</option> <option value="WAITING">Đang duyệt</option> </select> `; }
      else { filterContentContainer.innerHTML = ` <input type="text"
      id="filterContent" placeholder="Nhập nội dung để lọc" class="px-4 py-2
      border border-gray-300 rounded-md focus:outline-none focus:ring-2
      focus:ring-blue-400 w-full" required /> `; } } function applyFilter(event)
      { event.preventDefault(); const filterType =
      document.getElementById("filterType").value; const filterContent =
      document.getElementById("filterContent").value.trim(); if (filterType &&
      filterContent) { window.location.href =
      `/publisher/offerStatus/${filterType}/${filterContent}`; } }
    </script>
  </head>
  <body>
    <header class="bg-white shadow">
      <!-- Ad Block -->
      <div id="ad-blocks">
        <img
          src="https://cdn.builder.io/api/v1/image/assets/TEMP/705484c340074f4bb58acf514f7999f04570d7e6f9f7f1c6c0066a1dd1ecf602?placeholderIfAbsent=true&apiKey=fe65ef85b375408eac075f18f305b6ac"
          alt="BKBooks Logo"
          class="logo"
        />
      </div>

      <div
        class="max-w-screen-2xl mx-auto flex justify-between items-center p-1"
      >
        <!-- Brand Logo -->
        <div class="flex items-center">
          <img
            src="https://cdn.builder.io/api/v1/image/assets/TEMP/f01c8a6368015326b16c8754cfccde2be765fa7e789bb29dd64da5acf0e957f8?placeholderIfAbsent=true&apiKey=fe65ef85b375408eac075f18f305b6ac"
            alt="Brand Logo"
            class="h-8"
          />
        </div>

        <!-- User Options -->
        <div class="flex items-center gap-4 md:order-2">
          <!-- Notifications -->
          <button
            class="px-3 py-1 rounded-xl hover:bg-gray-200 flex flex-col items-center"
            aria-label="Notifications"
          >
            <img
              loading="lazy"
              src="https://cdn.builder.io/api/v1/image/assets/TEMP/7a468e6e6b4e2043e3be76040321071f8ebacfab700bde03a2d8faa0b175543e"
              alt="Thông báo"
              class="w-8 h-8"
            />
            <span class="text-sm mt-1 text-gray-700">Thông báo</span>
          </button>

          <!-- Account -->
          <a href="/account">
            <button
              class="px-3 py-1 rounded-xl hover:bg-gray-200 flex flex-col items-center"
              aria-label="Account"
            >
              <img
                loading="lazy"
                src="https://cdn.builder.io/api/v1/image/assets/TEMP/72968137062204ad157378c403ee3fc018381a90a36cda58e9b04db85b95f839"
                alt="Tài khoản"
                class="w-8 h-8"
              />
              <span class="text-sm mt-1 text-gray-700">Tài khoản</span>
            </button>
          </a>
        </div>
      </div>
    </header>
    <main class="w-full">
      <section>
        <nav
          class="flex flex-row items-center justify-between text-xl text-black w-full"
        >
          <!-- First Button -->
          <a
            href="/publisher/offerStatus"
            class="grow w-full p-4 bg-green-500 text-center"
          >
            DANH MỤC LIỆT KÊ
          </a>
          <!-- Second Button -->
          <a
            href="/publisher/add"
            class="grow w-full p-4 bg-red-300 text-center"
          >
            ĐĂNG KÝ MỚI
          </a>
        </nav>

        <!-- Breadcrumb -->
        <nav class="container mx-auto px-4 py-2 text-lg text-gray-600">
          <a href="#" class="text-blue-600">Danh mục liệt kê /</a>
        </nav>
      </section>
      <section
        class="max-w-screen-2xl mx-auto justify-between items-center shadow border"
      >
        <div class="container mx-auto p-4">
          <!-- Section Title -->
          <div class="mb-4">
            <h1
              class="text-xl md:text-2xl font-semibold bg-red-400 text-white px-8 py-4 rounded-lg inline-block"
            >
              Danh mục trạng thái
            </h1>
          </div>

          <form
            id="formFilter"
            class="relative inline-block flex flex-row gap-2"
            onsubmit="applyFilter(event)"
          >
            <div class="flex gap-2">
              <select
                id="filterType"
                class="flex px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400 w-full"
                onchange="toggleFilterInput()"
              >
                <option value="" selected>Chọn kiểu lọc</option>
                <option value="title">Tiêu đề</option>
                <option value="category">Thể loại</option>
                <option value="discount">Ưu đãi</option>
                <option value="status">Trạng thái</option>
              </select>
            </div>

            <div class="flex gap-2">
              <div id="filterContentContainer">
                <input
                  type="text"
                  id="filterContent"
                  placeholder="Nhập nội dung để lọc"
                  class="px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400 w-full"
                  required
                />
              </div>
            </div>

            <div class="flex">
              <button
                type="submit"
                class="px-6 py-2 text-white bg-blue-500 rounded-md hover:bg-blue-600 w-full"
              >
                Áp dụng
              </button>
            </div>
            <a href="/publisher/offerStatus" class="flex">
              <button
                type="button"
                class="px-6 py-2 text-white bg-gray-400 rounded-md hover:bg-red-400 w-full"
              >
                Mặc định
              </button>
            </a>
          </form>

          <div id="messageContainer" class="mt-4">
            <p id="message" class="text-red-500">{{message}}</p>
          </div>

          <!-- Table -->
          <div class="overflow-x-auto bg-white shadow-md rounded-lg mt-6">
            <table
              class="w-full border-collapse border border-gray-200 text-left text-sm"
            >
              <!-- Table Header -->
              <thead class="bg-gray-100">
                <tr>
                  <th class="p-3 border border-gray-200 text-center">
                    <!-- <input type="checkbox"/> -->
                  </th>
                  <th
                    class="p-3 border border-gray-200 text-xl font-bold text-black-500"
                  >
                    Tiêu đề sách
                  </th>
                  <th
                    class="p-3 border border-gray-200 text-xl font-bold text-black-500"
                  >
                    Mã sách
                  </th>
                  <th
                    class="p-3 border border-gray-200 text-xl font-bold text-black-500"
                  >
                    Tác giả
                  </th>
                  <th
                    class="p-3 border border-gray-200 text-xl font-bold text-black-500"
                  >
                    Thể loại
                  </th>
                  <th
                    class="p-3 border border-gray-200 text-xl font-bold text-black-500"
                  >
                    Ưu đãi (%)
                  </th>
                  <th
                    class="p-3 border border-gray-200 text-xl font-bold text-black-500"
                  >
                    Chỉnh sửa
                  </th>
                </tr>
              </thead>
              <!-- Table Body -->
              <tbody id="tableBody">
                <!-- Add here -->
                {{#each offers}}
                  <tr>
                    <td class="border border-gray-200">
                      <div class="flex justify-center items-center p-1">
                        {{{statusIcon}}}
                      </div>
                    </td>
                    <td
                      class="border border-gray-300 px-4 py-2 text-xl font-semibold text-gray-500"
                    >{{book_title}}</td>
                    <td
                      class="border border-gray-300 px-4 py-2 text-xl font-semibold text-gray-500"
                    >{{book_code}}</td>
                    <td
                      class="border border-gray-300 px-4 py-2 text-xl font-semibold text-gray-500"
                    >{{book_author}}</td>
                    <td
                      class="border border-gray-300 px-4 py-2 text-xl font-semibold text-gray-500"
                    >{{book_category}}</td>
                    <td
                      class="border border-gray-300 px-4 py-2 text-xl font-semibold text-gray-500"
                    >{{discount}}</td>
                    <td
                      class="p-3 border border-gray-200 text-blue-600 text-xl font-semibold underline"
                    >
                      <a href="/publisher/edit/{{offer_id}}">Chỉnh sửa</a>
                    </td>
                  </tr>
                {{/each}}
              </tbody>
            </table>
          </div>
          <!-- Pagination -->
          <div
            id="pagination"
            class="flex justify-center items-center mt-4 gap-2"
          >
            <!-- Pagination buttons will be dynamically added here -->
          </div>

          <!-- Add Item Button -->
          <div class="mt-4">
            <button class="px-4 py-2 text-white bg-red-500 rounded-md">
              <a href="/publisher/add">Thêm mục</a>
            </button>
          </div>
        </div>
      </section>
    </main>

    {{! <footer class="bg-white py-8 px-8">
      <div class="mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 text-gray-800">
        <!-- Column 1: Logo and Address -->
        <div class="border-e-4">
          <img
            src="https://cdn.builder.io/api/v1/image/assets/TEMP/77df4fa487540b8fe9de60db5c0267b7f6467e8ac57f1b0578a33a467a529f96?placeholderIfAbsent=true&apiKey=fe65ef85b375408eac075f18f305b6ac"
            alt="BKBooks logo"
            class="w-1/3 mb-4"
          />
          <p>
            Địa chỉ: 123 đường abc, quận x, TP c, tỉnh d
            <br />
            Công ty Cổ phần sách BKBooks
          </p>
        </div>

        <!-- Column 2: Services, Help, Account Management, and Contact -->
        <div class="flex flex-col space-y-8">
          <!-- Row 1: Service, Help, Manage Account -->
          <div class="flex justify-between">
            <!-- Services -->
            <div>
              <h2 class="text-lg font-semibold mb-2">DỊCH VỤ</h2>
              <ul class="space-y-2">
                <li>
                  <a href="#" class="hover:underline">Điều khoản dịch vụ</a>
                </li>
                <li>
                  <a href="#" class="hover:underline">Chính sách bảo mật</a>
                </li>
                <li>
                  <a href="#" class="hover:underline">Giới thiệu BKBooks</a>
                </li>
              </ul>
            </div>

            <!-- Help -->
            <div>
              <h2 class="text-lg font-semibold mb-2">HỖ TRỢ</h2>
              <ul class="space-y-2">
                <li>
                  <a href="#" class="hover:underline">Chính sách mượn sách</a>
                </li>
                <li>
                  <a href="#" class="hover:underline">Đổi trả sách</a>
                </li>
              </ul>
            </div>

            <!-- Manage Account -->
            <div>
              <h2 class="text-lg font-semibold mb-2">QUẢN LÝ TÀI KHOẢN</h2>
              <ul class="space-y-2">
                <li>
                  <a href="#" class="hover:underline">Lịch sử mượn sách</a>
                </li>
                <li>
                  <a href="#" class="hover:underline">Xem thông tin tài khoản</a>
                </li>
              </ul>
            </div>
          </div>

          <!-- Row 2: Contact -->
          <div class="space-y-4">
            <h2 class="text-lg font-semibold">Liên hệ</h2>
            <div class="flex flex-wrap gap-8">
              <!-- Address -->
              <div class="flex items-center gap-2">
                <img
                  src="https://cdn.builder.io/api/v1/image/assets/TEMP/ce4781dd7ae337953e5fb1911cbb68c7e1e4d393af4f1506e783af07a337406f?placeholderIfAbsent=true&apiKey=fe65ef85b375408eac075f18f305b6ac"
                  alt="Location icon"
                  class="w-6"
                />
                <p>123 đường abc, quận x, Thành phố c, tỉnh d</p>
              </div>

              <!-- Email -->
              <div class="flex items-center gap-2">
                <img
                  src="https://cdn.builder.io/api/v1/image/assets/TEMP/d3fc6cbc37e5e1d85019dc3cea1e89502b57e29bd991b7855d6400a6efb06621?placeholderIfAbsent=true&apiKey=fe65ef85b375408eac075f18f305b6ac"
                  alt="Email icon"
                  class="w-6"
                />
                <a
                  href="mailto:abcdef@hcmut.edu.vn"
                  class="hover:underline"
                >abcdef@hcmut.edu.vn</a>
              </div>

              <!-- Phone -->
              <div class="flex items-center gap-2">
                <img
                  src="https://cdn.builder.io/api/v1/image/assets/TEMP/a3a2038efdbef3495aae6e41ef22207346c1378477da67e7866b21eb38050e4e?placeholderIfAbsent=true&apiKey=fe65ef85b375408eac075f18f305b6ac"
                  alt="Phone icon"
                  class="w-6"
                />
                <a href="tel:0123456789" class="hover:underline">0123456789</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer> }}
  </body>
</html>